<Window x:Class="DeltaBrainsJSCAppFE.Views.ManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:DeltaBrainsJSCAppFE.Views"
        xmlns:uc="clr-namespace:DeltaBrainsJSCAppFE.CustomUserControl" 
        xmlns:converters="clr-namespace:DeltaBrainsJSCAppFE.Handel" 
        xmlns:viewmodels="clr-namespace:DeltaBrainsJSCAppFE.ViewModels" 
        d:DataContext="{d:DesignInstance Type=viewmodels:ManagerViewModel}"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        mc:Ignorable="d"
        
        DataContext="{StaticResource ManagerVM}"
        Title="Quản lý nhân viên" Height="450" Width="800"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        >

    <Window.Resources>
        <converters:StatusToBrushConverter x:Key="StatusToBrushConverter"/>
    </Window.Resources>

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="1,0" EndPoint="1,1">
                <GradientStop Color="#FF2196F3" Offset="0"/>
                <GradientStop Color="#FF90CAF9" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <uc:NavigationBarsUC Title="Quản lý nhân viên" 
                                 TargetElement="{x:Reference Sidebar}"  />
        </Grid>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <!-- Sidebar Navigation -->
            <Border Grid.Column="0" Width="200" 
                    Background="#FF1976D2" 
                    x:Name="Sidebar"
                    Visibility="Collapsed">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Sidebar Menu Items -->
                    <StackPanel Grid.Row="1" Margin="0 10">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                            Content="Dashboard"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Padding="16 8">
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="ViewDashboard" 
                                                           Width="24" Height="24"
                                                           Foreground="White"/>
                                        <TextBlock Text="{Binding}" Margin="8 0 0 0"
                                              VerticalAlignment="Center"/>
                                    </StackPanel>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                            Content="Tasks"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Padding="16 8">
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="FormatListChecks" 
                                                           Width="24" Height="24"
                                                           Foreground="White"/>
                                        <TextBlock Text="{Binding}" Margin="8 0 0 0"
                                              VerticalAlignment="Center"/>
                                    </StackPanel>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                            Content="Employees"
                            Foreground="White"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            Padding="16 8">
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="AccountGroup" 
                                                           Width="24" Height="24"
                                                           Foreground="White"/>
                                        <TextBlock Text="{Binding}" Margin="8 0 0 0"
                                              VerticalAlignment="Center"/>
                                    </StackPanel>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content Area -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Top Navigation Bar with Hamburger Button -->

                <!-- Main Content -->
                <Grid Grid.Row="1" Margin="10">
                    <DataGrid x:Name="TasksDataGrid"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          SelectionUnit="FullRow"
                          IsReadOnly="True"
                          HeadersVisibility="Column"
                          GridLinesVisibility="None"
                          BorderThickness="0"
                          Background="Transparent"
                          RowBackground="White"
                          AlternatingRowBackground="#F5F5F5"
                          materialDesign:DataGridAssist.CellPadding="16 8 16 8"
                          materialDesign:DataGridAssist.ColumnHeaderPadding="16 8 16 8"
                          ItemsSource="{Binding ListTask}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Mã công việc" 
                                          Binding="{Binding Id}" 
                                          Width="*"
                                          ElementStyle="{StaticResource MaterialDesignDataGridTextColumnStyle}"/>
                            <DataGridTextColumn Header="Tên công việc" 
                                          Binding="{Binding Title}" 
                                          Width="*"
                                          ElementStyle="{StaticResource MaterialDesignDataGridTextColumnStyle}"/>
                            <DataGridTextColumn Header="Nội dung" 
                                          Binding="{Binding Description}" 
                                          Width="2*"
                                          ElementStyle="{StaticResource MaterialDesignDataGridTextColumnStyle}"/>
                            <DataGridTextColumn Header="Người phụ trách" 
                                          Binding="{Binding AssigneeName}" 
                                          Width="*"
                                          ElementStyle="{StaticResource MaterialDesignDataGridTextColumnStyle}"/>
                            
                            <DataGridTemplateColumn Header="Trạng thái" Width="*">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Border CornerRadius="4" Padding="4 2" 
                                           Background="{Binding Status, Converter={StaticResource StatusToBrushConverter}}">
                                            <TextBlock Text="{Binding Status}" 
                                                 HorizontalAlignment="Center"
                                                 Foreground="White"
                                                 FontWeight="SemiBold"/>
                                        </Border>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Grid>
        </Grid>

        
    </Grid>
</Window>